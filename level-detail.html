<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knit Out Level 2 Solution</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 0;
        }
        
        .nav-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, #3498db 0%, #9b59b6 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }
        
        .brand-name {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
        }
        
        .nav-menu {
            display: flex;
            gap: 30px;
        }
        
        .nav-link {
            font-size: 18px;
            font-weight: 500;
            color: #7f8c8d;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .nav-link:hover, .nav-link.active {
            color: #3498db;
        }
        
        .main-container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .page-title {
            font-size: 2.8rem;
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 10px;
            position: relative;
        }
        
        .page-subtitle {
            font-size: 1.2rem;
            color: #7f8c8d;
            font-weight: 500;
            margin-bottom: 30px;
        }
        
        .current-level-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .level-display {
            font-size: 1.8rem;
            font-weight: 700;
            color: #9b59b6;
            background: rgba(155, 89, 182, 0.1);
            padding: 8px 30px;
            border-radius: 30px;
        }
        
        .level-selector {
            display: flex;
            gap: 10px;
        }
        
        .level-input {
            padding: 12px 20px;
            font-size: 1.1rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            width: 120px;
            text-align: center;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .level-go-btn {
            padding: 12px 25px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .level-go-btn:hover {
            background: #2980b9;
        }
        
        .content-container {
            display: flex;
            gap: 40px;
            margin-bottom: 50px;
        }
        
        .video-container {
            flex: 1;
            background: linear-gradient(135deg, #3498db, #9b59b6);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            aspect-ratio: 16/9;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .video-backdrop {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #5D54A4, #7C78B8);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .play-button {
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9b59b6;
            font-size: 32px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .play-button:hover {
            transform: scale(1.1);
            background: white;
        }
        
        .video-frame {
            width: 100%;
            height: 100%;
            display: none;
        }
        
        .description-container {
            flex: 1;
            padding: 25px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
        }
        
        .section-title {
            font-size: 1.8rem;
            color: #3498db;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .description-text {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #2c3e50;
            margin-bottom: 25px;
        }
        
        .features-container {
            margin-top: 30px;
        }
        
        .feature-list {
            list-style-type: none;
            padding-left: 20px;
        }
        
        .feature-item {
            padding: 10px 0;
            font-size: 1.1rem;
            color: #2c3e50;
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .feature-item:before {
            content: "âœ“";
            color: #2ecc71;
            font-weight: bold;
            margin-right: 10px;
            width: 25px;
            height: 25px;
            background: rgba(46, 204, 113, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .level-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }
        
        .nav-btn {
            padding: 16px 36px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            font-size: 1.1rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: none;
            cursor: pointer;
        }
        
        .prev-btn {
            background: #9b59b6;
            color: white;
        }
        
        .all-btn {
            background: #2ecc71;
            color: white;
        }
        
        .next-btn {
            background: #3498db;
            color: white;
        }
        
        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            background: #e74c3c;
            color: white;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transform: translateX(150%);
            transition: transform 0.5s ease;
            z-index: 2000;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: #2ecc71;
        }
        
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.2rem;
            display: none;
        }
        
        .video-status {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: white;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border-radius: 4px;
            display: none;
        }
        
        @media (max-width: 1000px) {
            .content-container {
                flex-direction: column;
            }
        }
        
        @media (max-width: 768px) {
            .nav-container {
                padding: 15px 20px;
            }
            
            .nav-menu {
                gap: 20px;
            }
            
            .page-title {
                font-size: 2.2rem;
            }
            
            .level-display {
                font-size: 1.4rem;
            }
            
            .current-level-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-link {
                font-size: 16px;
            }
            
            .brand-name {
                font-size: 20px;
            }
            
            .nav-btn {
                padding: 14px 25px;
                font-size: 1rem;
            }
            
            .description-container {
                padding: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .page-title {
                font-size: 1.8rem;
            }
            
            .level-actions {
                flex-direction: column;
                width: 100%;
            }
            
            .nav-btn {
                width: 100%;
                justify-content: center;
            }
            
            .level-selector {
                flex-direction: column;
            }
            
            .level-input, .level-go-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <nav class="nav-container">
        <div class="brand">
            <div class="logo">KO</div>
            <div class="brand-name">Knit Out</div>
        </div>
        
        <div class="nav-menu">
            <a href="index.html" class="nav-link">Home</a>
            <a href="levels.html" class="nav-link active">Levels</a>
            <a href="download.html" class="nav-link">Download</a>
            <a href="blog.html" class="nav-link">Blog</a>
        </div>
    </nav>
    
    <div class="main-container">
        <div class="page-header">
            <h1 class="page-title">
                Knit Out Level <span id="levelNumber">2</span> Solution
            </h1>
            <div class="page-subtitle">Complete Walkthrough & Strategy</div>
            
            <div class="current-level-container">
                <div class="level-display">
                    Level <span id="displayLevel">2</span>
                </div>
                
                <div class="level-selector">
                    <input type="number" min="1" max="1858" placeholder="1" class="level-input" id="levelInput" value="2">
                    <button class="level-go-btn" id="goToLevelBtn">
                        Go to Level
                    </button>
                </div>
            </div>
        </div>
        
        <div class="content-container">
            <div class="video-container" id="videoContainer">
                <div class="video-backdrop" id="videoBackdrop">
                    <div class="play-button" id="playButton">
                        <i class="fas fa-play"></i>
                    </div>
                </div>
                <iframe class="video-frame" id="videoFrame" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                <div class="video-loading" id="videoLoading">Loading video...</div>
                <div class="video-status" id="videoStatus"></div>
            </div>
            
            <div class="description-container">
                <h2 class="section-title">Challenge Description</h2>
                <p class="description-text">
                    Your challenge is to clear lines of colorful knots from the top, 
                    releasing ropes that need to find their matching bobbins below. 
                    Strategically choose the right bobbins from the grid to collect 
                    the ropes and complete each level.
                </p>
                
                <div class="features-container">
                    <h2 class="section-title">Game Features</h2>
                    <ul class="feature-list">
                        <li class="feature-item">Hundreds of intricate puzzles to solve</li>
                        <li class="feature-item">A vibrant palette of colors to keep your mind sharp</li>
                        <li class="feature-item">Relaxing gameplay with no timers - perfect for unwinding</li>
                        <li class="feature-item">Satisfying animations and delightful sound effects</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="level-actions">
            <button id="prevBtn" class="nav-btn prev-btn">
                <i class="fas fa-arrow-left"></i> Previous Level
            </button>
            <a href="levels.html" class="nav-btn all-btn">
                <i class="fas fa-list"></i> All Levels
            </a>
            <button id="nextBtn" class="nav-btn next-btn">
                Next Level <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>
    
    <div class="notification" id="notification">
        <i class="fas fa-info-circle"></i>
        <span id="notificationMessage">Video loaded successfully!</span>
    </div>
    
    <script>
        // DOM elements
        const levelNumberEl = document.getElementById('levelNumber');
        const displayLevelEl = document.getElementById('displayLevel');
        const levelInputEl = document.getElementById('levelInput');
        const goToLevelBtn = document.getElementById('goToLevelBtn');
        const videoContainer = document.getElementById('videoContainer');
        const videoBackdrop = document.getElementById('videoBackdrop');
        const playButton = document.getElementById('playButton');
        const videoFrame = document.getElementById('videoFrame');
        const videoLoading = document.getElementById('videoLoading');
        const videoStatus = document.getElementById('videoStatus');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const notification = document.getElementById('notification');
        const notificationMessage = document.getElementById('notificationMessage');
        
        // YouTube video IDs for different levels
        const videoData = {
            1: "dQw4w9WgXcQ",
            2: "rymW4r3lH8w", // Level 2 video
            3: "QH2-TGUlwu4",
            4: "9U6ULRW5E_4",
            5: "8SbUC-UaAxE"
        };
        
        // Set initial video for level 2
        window.currentVideoId = videoData[2];
        
        // Get level from URL
        const urlParams = new URLSearchParams(window.location.search);
        let currentLevel = parseInt(urlParams.get('id') || '2');
        
        // Initialize page
        function initPage() {
            // Validate level
            if (currentLevel < 1 || currentLevel > 1858) currentLevel = 2;
            
            // Update UI
            updateLevelDisplay(currentLevel);
            
            // Update video
            updateVideoContent();
            
            // Update buttons
            updateNavigationButtons();
            
            // Add event listeners
            setupEventListeners();
            
            // Show notification
            showNotification(`Level ${currentLevel} loaded successfully!`, 'success');
        }
        
        // Update video content
        function updateVideoContent() {
            // Check if video ID is available
            if (window.currentVideoId) {
                // Show loading state
                videoLoading.style.display = 'block';
                videoStatus.textContent = `Loading level ${currentLevel} video...`;
                videoStatus.style.display = 'block';
                
                // Set video source
                videoFrame.src = `https://www.youtube.com/embed/${window.currentVideoId}`;
                
                // Hide loading after delay
                setTimeout(() => {
                    videoLoading.style.display = 'none';
                    videoStatus.textContent = `Level ${currentLevel} video ready`;
                }, 1000);
                
                showNotification(`Video for Level ${currentLevel} is ready`, 'success');
            } else {
                showNotification('No video available for this level', 'error');
                videoStatus.textContent = 'No video available';
                videoStatus.style.display = 'block';
            }
        }
        
        // Play video
        function playVideo() {
            // Hide the backdrop and play button
            videoBackdrop.style.display = 'none';
            
            // Show and play the video
            videoFrame.style.display = 'block';
            
            // Add autoplay parameter to the URL
            const currentSrc = videoFrame.src;
            if (!currentSrc.includes('autoplay=1')) {
                videoFrame.src = currentSrc.includes('?') 
                    ? `${currentSrc}&autoplay=1`
                    : `${currentSrc}?autoplay=1`;
            }
            
            // Update status
            videoStatus.textContent = `Playing Level ${currentLevel} solution`;
            videoStatus.style.display = 'block';
        }
        
        // Update level display
        function updateLevelDisplay(level) {
            levelNumberEl.textContent = level;
            displayLevelEl.textContent = level;
            levelInputEl.value = level;
            
            // Update the current level in the video data
            if (videoData[level]) {
                window.currentVideoId = videoData[level];
            } else {
                window.currentVideoId = videoData[2]; // Default to level 2
            }
        }
        
        // Update navigation buttons
        function updateNavigationButtons() {
            if (currentLevel <= 1) {
                prevBtn.disabled = true;
                prevBtn.style.opacity = "0.6";
            } else {
                prevBtn.disabled = false;
                prevBtn.style.opacity = "1";
            }
            
            if (currentLevel >= 5) { // For demo, 5 is max level
                nextBtn.disabled = true;
                nextBtn.style.opacity = "0.6";
            } else {
                nextBtn.disabled = false;
                nextBtn.style.opacity = "1";
            }
        }
        
        // Show notification
        function showNotification(message, type = '') {
            notificationMessage.textContent = message;
            notification.className = 'notification show';
            if (type === 'success') {
                notification.style.background = '#2ecc71';
            } else {
                notification.style.background = '#e74c3c';
            }
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Play button
            playButton.addEventListener('click', playVideo);
            
            // Go to level button
            goToLevelBtn.addEventListener('click', () => {
                const level = parseInt(levelInputEl.value);
                if (level >= 1 && level <= 5) { // For demo, levels 1-5
                    navigateToLevel(level);
                } else {
                    showNotification('Please enter a valid level between 1 and 5');
                }
            });
            
            // Input enter key
            levelInputEl.addEventListener('keyup', (e) => {
                if (e.key === 'Enter') {
                    goToLevelBtn.click();
                }
            });
            
            // Navigation buttons
            prevBtn.addEventListener('click', () => {
                if (currentLevel > 1) {
                    navigateToLevel(currentLevel - 1);
                }
            });
            
            nextBtn.addEventListener('click', () => {
                if (currentLevel < 5) { // For demo, max level 5
                    navigateToLevel(currentLevel + 1);
                }
            });
            
            // Reset video display when navigating to new level
            videoFrame.addEventListener('load', () => {
                videoLoading.style.display = 'none';
                videoStatus.textContent = `Level ${currentLevel} video loaded`;
            });
        }
        
        // Navigate to level
        function navigateToLevel(level) {
            currentLevel = level;
            updateLevelDisplay(currentLevel);
            updateNavigationButtons();
            updateVideoContent();
            resetVideoDisplay();
        }
        
        // Reset video display
        function resetVideoDisplay() {
            videoBackdrop.style.display = 'flex';
            videoFrame.style.display = 'none';
            videoStatus.textContent = `Level ${currentLevel} video loaded`;
            videoStatus.style.display = 'block';
        }
        
        // Initialize on DOM load
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>
