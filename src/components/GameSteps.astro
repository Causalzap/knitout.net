---
// 这里可以写 JS，暂时不需要
---

<section class="journey-section">
    <div class="journey-container">
        <div class="journey-layout">
            <!-- 左侧内容区域 -->
            <div class="journey-content">
                <div class="section-header">
                    <h2 class="section-title">Your Knit Out Journey</h2>
                    <p class="section-description">
                        Embark on an exciting puzzle adventure where creativity and logic unlock new levels and challenges.
                    </p>
                </div>
                
                <!-- 步骤卡片 -->
                <div class="steps-container">
                    <!-- 步骤1 -->
                    <div class="step-card">
                        <div class="step-header">
                            <div class="step-number">1</div>
                            <h3 class="step-title">Slide the Yarn</h3>
                        </div>
                        <p class="step-description">
                            Drag the yarn loops to the correct positions where the colors match with the nearby woven pieces. The yarn will automatically wrap around the matching colors, and the more precise your placement, the more satisfying the process. 
                        </p>
                    </div>
                    
                    <!-- 步骤2 -->
                    <div class="step-card">
                        <div class="step-header">
                            <div class="step-number">2</div>
                            <h3 class="step-title">Plan Your Moves</h3>
                        </div>
                        <p class="step-description">
                            As you progress, plan each move carefully. Pay attention to obstacles and ensure you have enough space for the yarn loops to move into the right positions. Each step requires strategic thinking to avoid running out of moves.
                        </p>
                    </div>
                    
                    <!-- 步骤3 -->
                    <div class="step-card">
                        <div class="step-header">
                            <div class="step-number">3</div>
                            <h3 class="step-title">Progress and Level Up</h3>
                        </div>
                        <p class="step-description">
                            Clear the levels by successfully matching all yarn pieces, completing the challenge. As you progress through levels, the difficulty increases, and new challenges are introduced, giving players a sense of achievement as they level up.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- 右侧视频区域 -->
            <div class="journey-visual">
                <div class="video-container">
                    <div class="video-wrapper">
                        <video class="journey-video" controls poster="/imgages/knitout/video-poster.jpg">
                            <source src="https://play-games.googleusercontent.com/vp/mp4/1280x720/OA66L57ZDO4.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        <!-- 自定义视频控件 -->
                        <div class="video-controls">
                            <button class="play-btn" aria-label="Play video">
                                <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </button>
                        </div>
                        <!-- 视频标签 -->
                        <div class="video-label">
                            <span class="label-icon">▶️</span>
                            <span>Knit Out Gameplay Tutorial</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    /* CSS变量定义 */
    :root {
        --journey-bg: #ffffff;
        --card-bg: #ffffff;
        --text-dark: #1f2937;
        --text-gray: #6b7280;
        --text-light: #9ca3af;
        --accent-blue: #3b82f6;
        --accent-green: #10b981;
        --accent-purple: #8b5cf6;
        --accent-gradient: linear-gradient(135deg, #3b82f6, #10b981);
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        --radius-md: 12px;
        --radius-lg: 16px;
        --radius-xl: 20px;
        --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* 整体区域 */
    .journey-section {
        padding: 5rem 0;
        background: var(--journey-bg);
        position: relative;
    }

    .journey-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem;
    }

    /* 布局系统 */
    .journey-layout {
        display: flex;
        flex-direction: column;
        gap: 4rem;
    }

    @media (min-width: 1024px) {
        .journey-layout {
            flex-direction: row;
            align-items: flex-start;
            gap: 6rem;
        }
        
        .journey-content {
            flex: 1;
        }
        
        .journey-visual {
            flex: 0 0 50%;
            position: sticky;
            top: 2rem;
        }
    }

    /* 标题区域 */
    .section-header {
        margin-bottom: 3rem;
    }

    .section-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--text-dark);
        margin-bottom: 1rem;
        letter-spacing: -0.025em;
        background: var(--accent-gradient);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
    }

    .section-description {
        font-size: 1.25rem;
        color: var(--text-gray);
        line-height: 1.6;
        max-width: 36rem;
    }

    @media (min-width: 768px) {
        .section-title {
            font-size: 3rem;
        }
        
        .section-description {
            font-size: 1.5rem;
        }
    }

    /* 步骤卡片容器 */
    .steps-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    /* 步骤卡片 */
    .step-card {
        background: var(--card-bg);
        border-radius: var(--radius-lg);
        padding: 2rem;
        box-shadow: var(--shadow-md);
        transition: var(--transition);
        border: 1px solid rgba(229, 231, 235, 0.5);
    }

    .step-card:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
        border-color: var(--accent-blue);
    }

    /* 步骤头部 */
    .step-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1rem;
    }

    /* 步骤数字 */
    .step-number {
        width: 3rem;
        height: 3rem;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--accent-gradient);
        color: white;
        font-size: 1.25rem;
        font-weight: 700;
        box-shadow: var(--shadow-md);
        flex-shrink: 0;
    }

    /* 为不同步骤设置不同的颜色主题 */
    .step-card:nth-child(1) .step-number {
        background: linear-gradient(135deg, var(--accent-blue), #60a5fa);
    }

    .step-card:nth-child(2) .step-number {
        background: linear-gradient(135deg, var(--accent-green), #34d399);
    }

    .step-card:nth-child(3) .step-number {
        background: linear-gradient(135deg, var(--accent-purple), #a78bfa);
    }

    .step-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--text-dark);
        line-height: 1.4;
    }

    .step-description {
        color: var(--text-gray);
        line-height: 1.6;
        font-size: 1rem;
        padding-left: 4rem; /* 与数字对齐 */
    }

    @media (max-width: 639px) {
        .step-description {
            padding-left: 0;
        }
    }

    /* 视频容器 */
    .video-container {
        width: 100%;
        position: relative;
    }

    .video-wrapper {
        width: 100%;
        border-radius: var(--radius-xl);
        overflow: hidden;
        box-shadow: var(--shadow-xl);
        position: relative;
        background: #000;
    }

    .journey-video {
        width: 100%;
        height: auto;
        display: block;
        border-radius: var(--radius-xl);
        transition: var(--transition);
    }

    /* 自定义视频控件 */
    .video-controls {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.3);
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .video-wrapper:hover .video-controls {
        opacity: 1;
    }

    .play-btn {
        width: 4rem;
        height: 4rem;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.9);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: var(--transition);
    }

    .play-btn:hover {
        transform: scale(1.1);
        background: white;
    }

    .play-icon {
        width: 2rem;
        height: 2rem;
        color: var(--accent-blue);
        margin-left: 0.25rem;
    }

    /* 视频标签 */
    .video-label {
        position: absolute;
        top: 1rem;
        left: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(8px);
        border-radius: 999px;
        font-size: 0.875rem;
        font-weight: 600;
        color: var(--text-dark);
        box-shadow: var(--shadow-md);
    }

    .label-icon {
        font-size: 1rem;
    }

    /* 响应式调整 */
    @media (max-width: 767px) {
        .journey-section {
            padding: 3rem 0;
        }
        
        .section-header {
            margin-bottom: 2rem;
        }
        
        .section-title {
            font-size: 2rem;
        }
        
        .section-description {
            font-size: 1.125rem;
        }
        
        .step-card {
            padding: 1.5rem;
        }
        
        .step-number {
            width: 2.5rem;
            height: 2.5rem;
            font-size: 1.125rem;
        }
        
        .step-title {
            font-size: 1.25rem;
        }
        
        .step-description {
            font-size: 0.9375rem;
        }
    }

    @media (min-width: 768px) and (max-width: 1023px) {
        .journey-layout {
            gap: 3rem;
        }
        
        .step-title {
            font-size: 1.375rem;
        }
    }

    /* 动画效果 */
    .step-card {
        animation: fadeInUp 0.6s ease-out;
    }

    .step-card:nth-child(1) { animation-delay: 0.1s; }
    .step-card:nth-child(2) { animation-delay: 0.2s; }
    .step-card:nth-child(3) { animation-delay: 0.3s; }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>

<script>
    // 修复TypeScript类型错误
    document.addEventListener('DOMContentLoaded', () => {
        // 使用类型断言确保TypeScript知道元素的正确类型
        const video = document.querySelector('.journey-video') as HTMLVideoElement;
        const playBtn = document.querySelector('.play-btn') as HTMLButtonElement;
        const videoWrapper = document.querySelector('.video-wrapper') as HTMLElement;
        
        if (video && playBtn) {
            // 播放按钮点击事件
            playBtn.addEventListener('click', () => {
                if (video.paused) {
                    video.play();
                    playBtn.style.display = 'none';
                } else {
                    video.pause();
                    playBtn.style.display = 'flex';
                }
            });
            
            // 视频点击播放/暂停
            video.addEventListener('click', () => {
                if (video.paused) {
                    video.play();
                    playBtn.style.display = 'none';
                } else {
                    video.pause();
                    playBtn.style.display = 'flex';
                }
            });
            
            // 视频播放时隐藏按钮
            video.addEventListener('play', () => {
                playBtn.style.display = 'none';
            });
            
            // 视频暂停时显示按钮
            video.addEventListener('pause', () => {
                playBtn.style.display = 'flex';
            });
            
            // 视频结束时显示按钮
            video.addEventListener('ended', () => {
                playBtn.style.display = 'flex';
            });
        }
        
        // 视频悬停效果
        if (videoWrapper) {
            videoWrapper.addEventListener('mouseenter', () => {
                videoWrapper.style.transform = 'scale(1.02)';
            });
            
            videoWrapper.addEventListener('mouseleave', () => {
                videoWrapper.style.transform = 'scale(1)';
            });
        }
    });
</script>