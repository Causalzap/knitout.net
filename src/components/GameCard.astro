---
export interface GameCardProps {
  game: {
    id: string;
    title: string;
    description: string;
    tags: string[];
    type: 'strategy' | 'iframe';
  };
  colors: {
    gradient: string;
    light: string;
    text: string;
  };
  isFeatured?: boolean;
}

const { game, colors, isFeatured = false } = Astro.props;
const linkUrl = game.type === 'strategy' ? `/${game.id}` : `/hot-games/${game.id}`;
const btnText = game.type === 'strategy' ? "Get Strategy" : "Play Now";
---

<a 
  href={linkUrl} 
  class={`game-card ${isFeatured ? 'featured-card' : ''} fade-in-up`}
  style={`--game-gradient: ${colors.gradient}; --game-light: ${colors.light}; --game-text: ${colors.text};`}
  title={`Play ${game.title}`}
>
  <!-- 顶部装饰条 -->
  <div class="card-header"></div>
  
  <div class="card-content">
    <!-- 游戏图标 -->
    <div class="game-icon-wrapper">
      <div class="game-icon">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <!-- 图标根据游戏ID动态显示 -->
          {game.id === 'knit-out' && <path d="M9 12l2 2l4-4"/>}
          {game.id === 'cookingdom' && <path d="M12 2L2 7l10 5 10-5-10-5z"/>}
          {game.id === 'block-blast' && <rect x="3" y="3" width="18" height="18" rx="2"/>}
          {game.id === 'sand-blast' && <circle cx="12" cy="12" r="10"/>}
          {game.id === 'hole-people' && <circle cx="12" cy="12" r="10"/>}
          {game.id === 'drop-the-cat' && <path d="M12 2L2 7l10 5 10-5-10-5z"/>}
        </svg>
      </div>
    </div>

    <!-- 游戏标签 -->
    <div class="game-tags">
      {game.tags.map((tag: string) => (
        <span class="game-tag">{tag}</span>
      ))}
    </div>

    <!-- 游戏标题和描述 -->
    <h3 class="game-title">{game.title}</h3>
    <p class="game-description">{game.description}</p>

    <!-- 操作按钮 -->
    <div class="game-action">
      <span class="action-text">{btnText}</span>
      <svg class="action-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M5 12h14M12 5l7 7-7 7"/>
      </svg>
    </div>
  </div>
</a>